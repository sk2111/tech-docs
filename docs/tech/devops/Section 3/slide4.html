<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tech/devops/Section 3/slide4" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Understanding Resource Requests &amp; Limits | Sathishkumar</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://sk2111.github.io/tech-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://sk2111.github.io/tech-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://sk2111.github.io/tech-docs/docs/tech/devops/Section 3/slide4"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Understanding Resource Requests &amp; Limits | Sathishkumar"><meta data-rh="true" name="description" content="1. Let&#x27;s imagine you have a pod running in a K8&#x27;s"><meta data-rh="true" property="og:description" content="1. Let&#x27;s imagine you have a pod running in a K8&#x27;s"><link data-rh="true" rel="icon" href="/tech-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sk2111.github.io/tech-docs/docs/tech/devops/Section 3/slide4"><link data-rh="true" rel="alternate" href="https://sk2111.github.io/tech-docs/docs/tech/devops/Section 3/slide4" hreflang="en"><link data-rh="true" rel="alternate" href="https://sk2111.github.io/tech-docs/docs/tech/devops/Section 3/slide4" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/tech-docs/blog/rss.xml" title="Sathishkumar RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tech-docs/blog/atom.xml" title="Sathishkumar Atom Feed"><link rel="stylesheet" href="/tech-docs/assets/css/styles.98fe77e6.css">
<script src="/tech-docs/assets/js/runtime~main.66d399a7.js" defer="defer"></script>
<script src="/tech-docs/assets/js/main.6b7b6b75.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/tech-docs/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tech-docs/"><div class="navbar__logo"><img src="/tech-docs/img/logo.svg" alt="Sathishkumar" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/tech-docs/img/logo.svg" alt="Sathishkumar" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Sathishkumar</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tech-docs/docs/category/devops-1">Tech Docs</a><a class="navbar__item navbar__link" href="/tech-docs/docs/books/introduction">Books</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/tech-docs/docs/category/devops-1">DevOps</a><button aria-label="Collapse sidebar category &#x27;DevOps&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-docs/docs/tech/devops/about">About Me</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-docs/docs/tech/devops/prerequisite">Prerequisite</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-docs/docs/tech/devops/motivation">Motivation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tech-docs/docs/tech/devops/Section 1/slide1">Section 1</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tech-docs/docs/tech/devops/Section 2/slide1">Section 2</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/tech-docs/docs/tech/devops/Section 3/slide1">Section 3</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-docs/docs/tech/devops/Section 3/slide1">K8&#x27;s Env</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-docs/docs/tech/devops/Section 3/slide2">K8&#x27;s Config Maps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-docs/docs/tech/devops/Section 3/slide3">K8&#x27;s Secrets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tech-docs/docs/tech/devops/Section 3/slide4">K8&#x27;s Scaling &amp; Resource</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-docs/docs/tech/devops/Section 3/slide5">K8&#x27;s Recap</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tech-docs/docs/tech/devops/Section 4/slide1">Section 4</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-docs/docs/tech/devops/misc">Misc</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tech-docs/docs/category/github-1">Github</a><button aria-label="Expand sidebar category &#x27;Github&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tech-docs/docs/category/network-1">Network</a><button aria-label="Expand sidebar category &#x27;Network&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tech-docs/docs/category/database-1">Database</a><button aria-label="Expand sidebar category &#x27;Database&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tech-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/tech-docs/docs/category/devops-1"><span itemprop="name">DevOps</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Section 3</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">K8&#x27;s Scaling &amp; Resource</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Understanding Resource Requests &amp; Limits</h1></header>
<ol>
<li>Let&#x27;s imagine you have a pod running in a K8&#x27;s</li>
<li>Every pod will consume a certain amount of CPU and memory resources from the
node it is scheduled on.</li>
<li>Let&#x27;s say your pod is consuming 1 CPU and 256MB memory.And there is a memory
leak in your application which is causing the pod to consume more memory
over time.</li>
<li>What will happen when the pod exceeds the available memory on the node?</li>
<li>The pod will be terminated by the K8&#x27;s scheduler and will be restarted again &amp;
also node resources will be affected.</li>
<li>To prevent this from happening, we can set <code>resource requests</code> and
<code>resource limits</code> for the pod.</li>
<li><code>Resource Requests</code> specify the minimum amount of CPU and memory resources
that a pod needs to run.</li>
<li><code>Resource Limits</code> specify the maximum amount of CPU and memory resources
that a pod can use.</li>
<li>By setting resource requests and limits, we can ensure that the pod has
enough resources to run without being terminated due to resource exhaustion.</li>
</ol>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><ol>
<li>When memory limit is reached, the pod will be terminated with
an &quot;Out of Memory&quot; (OOM) error.</li>
<li>When CPU limit is reached, the pod will be throttled, meaning
it will be allowed to use only a certain percentage of CPU time.
And you will see a drop in performance.</li>
<li>Kubernetes does this to ensure that no single pod can monopolize the
resources of a node, which could lead to resource starvation for
other pods running on the same node.</li>
</ol></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-of-pod-with-resource-requests--limits">Example of Pod with Resource Requests &amp; Limits<a href="#example-of-pod-with-resource-requests--limits" class="hash-link" aria-label="Direct link to Example of Pod with Resource Requests &amp; Limits" title="Direct link to Example of Pod with Resource Requests &amp; Limits">​</a></h2>
<ol>
<li>
<p>Let&#x27;s see in action about the OOM error when memory limit is reached.</p>
</li>
<li>
<p>You can use the below yaml file to create a pod with resource requests and limits.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> stress</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> stress</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> polinux/stress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;stress&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;--vm&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;--vm-bytes&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;128M&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;--timeout&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;30s&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;50Mi&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">limits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;110Mi&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="need-for-scaling-in-k8s">Need for Scaling in K8&#x27;s<a href="#need-for-scaling-in-k8s" class="hash-link" aria-label="Direct link to Need for Scaling in K8&#x27;s" title="Direct link to Need for Scaling in K8&#x27;s">​</a></h2>
<ol>
<li>In a production environment, the load on an application can vary
significantly over time.</li>
<li>During peak hours, the application may experience a surge in traffic,
leading to increased resource consumption.</li>
<li>During off-peak hours, the load may decrease, resulting in underutilized
resources.</li>
<li>Scaling helps to adjust the resources allocated to an application based on
the current load, ensuring optimal performance and cost-efficiency.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-horizontal--vertical-scaling">Understanding Horizontal &amp; Vertical Scaling<a href="#understanding-horizontal--vertical-scaling" class="hash-link" aria-label="Direct link to Understanding Horizontal &amp; Vertical Scaling" title="Direct link to Understanding Horizontal &amp; Vertical Scaling">​</a></h2>
<ol>
<li>In general, there are two types of scaling - <strong>Horizontal Scaling</strong> and
<strong>Vertical Scaling</strong>.</li>
<li>Horizontal Scaling (Scaling Out/In) involves adding or removing instances,
such as adding more servers to a cluster to handle increased load.</li>
<li>Vertical Scaling (Scaling up/down) involves adding or removing resources to
an existing instance, such as increasing the CPU or memory of a server
to improve its performance.</li>
<li>If this process is automated based on predefined conditions, it is referred
to as Auto-scaling. if it is done manually, it is called Manual Scaling.</li>
</ol>
<p><img decoding="async" loading="lazy" alt="k8s_ha" src="/tech-docs/assets/images/k8s_ha-6363c37b345f3bd07705471acb7b159e.png" width="1017" height="578" class="img_ev3q">
<img decoding="async" loading="lazy" alt="k8_va" src="data:image/png;base64,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" width="628" height="222" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="k8s-hpa--vpa">K8&#x27;s HPA &amp; VPA<a href="#k8s-hpa--vpa" class="hash-link" aria-label="Direct link to K8&#x27;s HPA &amp; VPA" title="Direct link to K8&#x27;s HPA &amp; VPA">​</a></h2>
<ol>
<li>K8&#x27;s has built-in support for horizontal scaling through the Horizontal Pod
Autoscaler (HPA) resource.</li>
<li>HPA automatically adjusts the number of pod replicas in a deployment based on
observed CPU utilization or other select metrics.</li>
<li>HPA continuously monitors the resource usage of pods and scales the number of
replicas up or down to maintain the desired performance levels.</li>
<li>Vertical Scaling in K8&#x27;s is achieved through the Vertical Pod Autoscaler (VPA)
resource.</li>
<li>VPA automatically adjusts the resource requests and limits of pods based on
observed resource usage.</li>
<li>VPA continuously monitors the resource usage of pods and adjusts the resource
requests and limits to optimize performance.</li>
<li>Both HPA and VPA can be configured using yaml files or imperative commands.</li>
</ol>
<p><img decoding="async" loading="lazy" alt="k8s_scaling_types" src="/tech-docs/assets/images/k8s_scaling_types-99822cc69464b607f99c502b354086eb.png" width="922" height="332" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-k8s-collects-metrics-to-start-hpa--vpa">How K8&#x27;s collects metrics to start HPA &amp; VPA?<a href="#how-k8s-collects-metrics-to-start-hpa--vpa" class="hash-link" aria-label="Direct link to How K8&#x27;s collects metrics to start HPA &amp; VPA?" title="Direct link to How K8&#x27;s collects metrics to start HPA &amp; VPA?">​</a></h2>
<ol>
<li>K8&#x27;s uses the Metrics Server to collect resource usage metrics from nodes and
pods in the cluster.</li>
<li>Kubelet on each node collects resource usage data and exposes it through the
Kubelet API.</li>
<li>The Metrics Server periodically scrapes the Kubelet API to gather resource
usage metrics.</li>
<li>The collected metrics are then made available to the HPA and VPA controllers
in the control plane for scaling decisions.</li>
<li>Metrics Server needs to be deployed in the cluster for HPA and VPA to function
properly.</li>
</ol>
<p><img decoding="async" loading="lazy" alt="k8s_metrics_server" src="/tech-docs/assets/images/k8s_metrics_server-b5cb06ed93d58c503523793698dd9d2b.png" width="1127" height="351" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lets-see-hpa-in-action">Let&#x27;s see HPA in action<a href="#lets-see-hpa-in-action" class="hash-link" aria-label="Direct link to Let&#x27;s see HPA in action" title="Direct link to Let&#x27;s see HPA in action">​</a></h2>
<ol>
<li>
<p>You can use the below yaml file to create a deployment with HPA enabled.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sathish1996/node</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">imagePullPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;100m&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;256Mi&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">limits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;200m&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;512Mi&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Enable metrics server in te minikube cluster using below command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">minikube addons enable metrics-server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="k8s_hpa_1" src="/tech-docs/assets/images/k8s_hpa_1-f01b02d7e57054d9536d5e1882117cfe.png" width="920" height="140" class="img_ev3q"></p>
</li>
<li>
<p>Wait for sometime for the metrics server to start,
then verify the metrics server is running using below command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get deployment metrics-server -n kube-system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="k8s_ms_1" src="/tech-docs/assets/images/k8s_ms_1-d13d9025c9674e387c084b6371e2c2d1.png" width="877" height="152" class="img_ev3q"></p>
</li>
<li>
<p>We can also see the resource usage of nodes using below command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl top nodes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="k8s_hpa_2" src="/tech-docs/assets/images/k8s_hpa_2-cff09b2c06eac6d1e3ca2005b53b54fe.png" width="677" height="142" class="img_ev3q"></p>
</li>
<li>
<p>As we enabled the metrics server, we can now see the resource usage of pods
using below command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl top pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="k8s_hpa_3" src="/tech-docs/assets/images/k8s_hpa_3-ee70de2cf2d9de9c4d14c3d0131a32f0.png" width="621" height="127" class="img_ev3q">
<img decoding="async" loading="lazy" alt="k8s_hpa_4" src="/tech-docs/assets/images/k8s_hpa_4-be12353ba93326588312febb3436bfa2.png" width="870" height="396" class="img_ev3q"></p>
</li>
<li>
<p>Let&#x27;s port forward the deployment using below command &amp; verify in browser</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward deployment/backend 5001:4000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Now, we can create HPA for the deployment using below command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> kubectl autoscale deployment backend --min=1 --max=5 --cpu-percent=3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="k8s_hpa_5" src="/tech-docs/assets/images/k8s_hpa_5-5ab5f19d207bac0c11a2cf35b90acfcb.png" width="1078" height="96" class="img_ev3q"></p>
</li>
<li>
<p>You can notice the deployment replicas is set to 2 initially. But as we have
set the HPA with min as 1 and max as 5, the hpa will be re-adjusted to 1
pod. This will take some time to reflect in minikube</p>
<p><img decoding="async" loading="lazy" alt="k8s_hpa_6" src="/tech-docs/assets/images/k8s_hpa_6-4451735ea37525527d1dc66e50706333.png" width="858" height="198" class="img_ev3q">
<img decoding="async" loading="lazy" alt="k8s_hpa_6.5" src="/tech-docs/assets/images/k8s_hpa_6.5-76821a45636a2e79f21004cbcaa68c93.png" width="832" height="146" class="img_ev3q"></p>
</li>
<li>
<p>We can now generate some load on the deployment using <code>curl</code> tool in your <code>powershell</code>.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">while ($true) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   curl http://localhost:5001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>As we generate load on the deployment, we can see the HPA is scaling the
deployment replicas based on the CPU utilization.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get hpa -w</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="k8s_hpa_7" src="/tech-docs/assets/images/k8s_hpa_7-e010b4540023920254d836fff77ac784.png" width="1293" height="207" class="img_ev3q"></p>
</li>
<li>
<p>You can notice the replicas are increased to handle the load.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="k8s_hpa_8" src="/tech-docs/assets/images/k8s_hpa_8-d6eba695eeeb274499a524b047ea97c6.png" width="1238" height="317" class="img_ev3q"></p>
</li>
<li>
<p>Stop the load, the HPA will scale down the replicas to the minimum
value set.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get hpa -w</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Congratulations! You have successfully implemented HPA in K8&#x27;s.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2>
<ol>
<li>By now you must have understood the importance of resource requests
and limits in K8&#x27;s.</li>
<li>You have also learned about Horizontal and Vertical scaling in K8&#x27;s.</li>
<li>You have also seen HPA in action by creating a deployment with HPA enabled.</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tech/devops/Section 3/slide4.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tech-docs/docs/tech/devops/Section 3/slide3"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">K8&#x27;s Secrets</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tech-docs/docs/tech/devops/Section 3/slide5"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">K8&#x27;s Recap</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#example-of-pod-with-resource-requests--limits" class="table-of-contents__link toc-highlight">Example of Pod with Resource Requests &amp; Limits</a></li><li><a href="#need-for-scaling-in-k8s" class="table-of-contents__link toc-highlight">Need for Scaling in K8&#39;s</a></li><li><a href="#understanding-horizontal--vertical-scaling" class="table-of-contents__link toc-highlight">Understanding Horizontal &amp; Vertical Scaling</a></li><li><a href="#k8s-hpa--vpa" class="table-of-contents__link toc-highlight">K8&#39;s HPA &amp; VPA</a></li><li><a href="#how-k8s-collects-metrics-to-start-hpa--vpa" class="table-of-contents__link toc-highlight">How K8&#39;s collects metrics to start HPA &amp; VPA?</a></li><li><a href="#lets-see-hpa-in-action" class="table-of-contents__link toc-highlight">Let&#39;s see HPA in action</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tech-docs/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tech-docs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>