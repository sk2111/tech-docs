"use strict";(self.webpackChunktech_docs=self.webpackChunktech_docs||[]).push([[9643],{3759:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"books/buildingMicroservices/part1Foundation/whatAreMicroservices","title":"What are Microservices ?","description":"Microservices has become an increasing popular architecture choice","source":"@site/docs/books/buildingMicroservices/part1Foundation/whatAreMicroservices.md","sourceDirName":"books/buildingMicroservices/part1Foundation","slug":"/books/buildingMicroservices/part1Foundation/whatAreMicroservices","permalink":"/tech-docs/docs/books/buildingMicroservices/part1Foundation/whatAreMicroservices","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/books/buildingMicroservices/part1Foundation/whatAreMicroservices.md","tags":[],"version":"current","frontMatter":{},"sidebar":"booksSidebar","previous":{"title":"Part 1 Foundation","permalink":"/tech-docs/docs/category/part-1-foundation-1"}}');var r=n(4848),t=n(8453);const o={},a="What are Microservices ?",c={},l=[{value:"Microservices at a Glance",id:"microservices-at-a-glance",level:2},{value:"Key Concepts of Microservices",id:"key-concepts-of-microservices",level:2},{value:"Independent Deployability",id:"independent-deployability",level:3},{value:"Modeled Around Business Domain",id:"modeled-around-business-domain",level:3},{value:"Owning their state",id:"owning-their-state",level:3},{value:"Size",id:"size",level:3},{value:"Flexibility",id:"flexibility",level:3},{value:"Alignment of Architecture &amp; Organization",id:"alignment-of-architecture--organization",level:3}];function h(e){const i={blockquote:"blockquote",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"what-are-microservices-",children:"What are Microservices ?"})}),"\n",(0,r.jsx)(i.p,{children:"Microservices has become an increasing popular architecture choice\r\nin the half decade."}),"\n",(0,r.jsx)(i.p,{children:"This chapter help to look at the core ideas behind microservices,\r\nthe prior architecture that brought us here and reasons why this is so widely adopted."}),"\n",(0,r.jsx)(i.h2,{id:"microservices-at-a-glance",children:"Microservices at a Glance"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"Microservices are independently releasable services that are modeled\r\naround a business domain."}),"\n",(0,r.jsx)(i.li,{children:"A service encapsulates functionality and makes it accessible to other services\r\nvia network - you can construct more complex system on this building block"}),"\n",(0,r.jsx)(i.li,{children:"Example one microservice represent inventory, another order processing and\r\nanother shipping, but together they form a complete E-commerce system."}),"\n",(0,r.jsx)(i.li,{children:"Microservices are an architecture choice that is focused on giving you many\r\noptions for solving problems you might face."}),"\n",(0,r.jsx)(i.li,{children:"On outside, microservices look like a black box and implements API's which\r\ncan be used by other services or consumers."}),"\n",(0,r.jsx)(i.li,{children:"Internal implementation of microservices is hidden from outside world. The\r\nlanguage it uses and database it uses is hidden from outside world."}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Important"})," - This means microservice architecture avoid using shared database\r\nin most circumstances."]}),"\n",(0,r.jsxs)(i.li,{children:["Microservices embrace the concept of ",(0,r.jsx)(i.strong,{children:"Information Hiding"}),". It means that it\r\nhides as much as information within the service and only exposes little\r\ninformation to outside world via external interfaces."]}),"\n",(0,r.jsx)(i.li,{children:"This allows you to change the internal implementation of microservice easily without\r\naffecting the outside world as the as the external interface remains the same."}),"\n",(0,r.jsx)(i.li,{children:"Changes in microservice should affect upstream microservices, enabling\r\nindependent releasability of functionality or s service."}),"\n",(0,r.jsx)(i.li,{children:"Having clear, stable service boundaries that don't change when the internal implementation\r\nchanges results in a system that have looser coupling and strong cohesion."}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"key-concepts-of-microservices",children:"Key Concepts of Microservices"}),"\n",(0,r.jsx)(i.p,{children:"Core ideas that must be understood when you explore microservices are"}),"\n",(0,r.jsx)(i.h3,{id:"independent-deployability",children:"Independent Deployability"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"Independent Deployability is the idea that when you make a change to a\r\nmicroservice, you can deploy that change without having to deploy any other\r\nmicroservices."}),"\n",(0,r.jsx)(i.li,{children:"On surface, this seems like a simple idea, but it has a lot of implications."}),"\n",(0,r.jsx)(i.li,{children:"Getting into a habit of deploying microservices independently will inherit\r\nbring a lot of discipline to your development process."}),"\n",(0,r.jsx)(i.li,{children:"To ensure independent deployability, you need to ensure that the microservices\r\nare loosely coupled and have well defined interfaces."}),"\n",(0,r.jsx)(i.li,{children:"Some implementation choice make this hard to achieve, such as using a\r\nshared database or tightly coupling the microservices."}),"\n",(0,r.jsx)(i.li,{children:"To achieve independent deployability, there are so many things to get right\r\nthat in turn brings own benefit"}),"\n",(0,r.jsx)(i.li,{children:"The desire for loosely coupled services with stable interfaces guides our\r\nthinking about how we find our microservice boundaries in the first place."}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"modeled-around-business-domain",children:"Modeled Around Business Domain"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"Techniques like domain driven design help you to structure your code to better\r\nrepresent the real-world domain that software operates in."}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"With microservice we use same idea to define the service boundaries."}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"By modeling around business domain, we can make it easier to roll out new functionality\r\nand to recombine microservices in different ways to deliver new functionality\r\nto end users."}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"Rolling out new changes to more than one microservice is costly, it involves\r\ncoordination with multiple services possibly multiple teams, you also need to\r\nmanage the order in which it gets deployed."}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"The above takes more time than deploying to a single microservice.\r\nso keep multi-service changes infrequent as possible"}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"A relatable example of three layered architecture that teams follow is split\r\nbased on technology choice."}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"This architecture works well when you have the changes in the frontend or\r\nbackend alone (particular layer). But often experience shows the change is\r\noften related to business needs and it often spread across all three layers."}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"But modelling the layer according to end to end slices of business functionality\r\nwe ensure that our architecture is arranged to make changes to business\r\nfunctionality as efficient as possible."}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"With microservices we have made a decision to have strong cohesion based on\r\nbusiness functionality and not on technical functionality."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Three layer architecture based on technology"}),"\r\n",(0,r.jsx)(i.img,{alt:"Three layer architecture",src:n(4700).A+"",width:"630",height:"642"})]}),"\n",(0,r.jsx)(i.h3,{id:"owning-their-state",children:"Owning their state"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"One of the things that people starting with microservice is not understanding\r\nthe important of separate database per microservice"}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"If a microservice wants to access data held by another microservice, it should\r\nask the second microservices to get the data"}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"This enforces clear interface best pratice which giving full control\r\non what information to hide and what information to share via external interface"}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Having shared database is a worst mistake in microservice"})," it will defeat\r\nthe clear boundary isolation purpose & independent deployability"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"This separate database per microservice pushes us to define well defined\r\nexternal contract with back compatible fashion"}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"By hiding the database per microservice we reduce coupling."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"size",children:"Size"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"The size of the microservice should be kept as which it is easily understood."}),"\n",(0,r.jsx)(i.li,{children:"Don't focus too much of the size."}),"\n",(0,r.jsx)(i.li,{children:"As you are starting out think how many microservices\r\nyou can manage."}),"\n",(0,r.jsx)(i.li,{children:"As you have more services the complexity will increase and\r\nnew need to learn new skills to adopt this standard."}),"\n",(0,r.jsx)(i.li,{children:"Focus on strong cohesion based on business domain & have clear service\r\nboundaries remains a priority than worrying about the size."}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"flexibility",children:"Flexibility"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"Microservices buy you options. They have a cost and you need to decide whether\r\nthe cost is worth the options you want to take up"}),"\n",(0,r.jsx)(i.li,{children:"The microservice architecture gives flexibility in many axes - organizational,\r\ntechnical, scale, robustness"}),"\n",(0,r.jsxs)(i.li,{children:["We don't know what the future holds so adopting microservices will give the flexibility\r\nto theoretically solve the problems we face down the line (But again it has cost)","\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Finding the balance between keeping your options open and bearing the architecture\r\nis an real art"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.li,{children:"While you are increasing the flexibility with microservices, you are increasing\r\nthe pain too. So take microservice pattern as incremental adoption"}),"\n",(0,r.jsx)(i.li,{children:"By incrementally adopting you have the flexibility to stop if required"}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"alignment-of-architecture--organization",children:"Alignment of Architecture & Organization"}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Music corp"})," an e-commerce company sells CDs online, uses simple three layered\r\narchitecture. We like to add a feature to expose favorite genre of music."]}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsx)(i.li,{children:"It will cause change in all the layers, UI, Backend & Database."}),"\n",(0,r.jsx)(i.li,{children:"The changes need to be coordinated between all teams to deploy."}),"\n",(0,r.jsxs)(i.li,{children:["This is fine, because traditionally this is how company operate, engineers are\r\ngrouped based on core competency of technology skills\r\n",(0,r.jsx)(i.img,{alt:"Three layer architecture changes",src:n(9949).A+"",width:"871",height:"637"})]}),"\n",(0,r.jsx)(i.li,{children:"But today this approach got changed we need to build products faster so a\r\nteam structure of poly skilled engineer owning end to end helps."}),"\n",(0,r.jsx)(i.li,{children:"This forces us how we change our org structure the team."}),"\n",(0,r.jsx)(i.li,{children:"Most of the changes we make to the system is based on business functionality\r\n& when such changes happens it mostly happens across all layers"}),"\n",(0,r.jsx)(i.li,{children:"In the earlier example the cohesion is made on the technology choice but\r\nwhen we think about our team structure as vertical slices instead of horizontal\r\nnow the cohesion is made out of business domain"}),"\n",(0,r.jsxs)(i.li,{children:["In this scenario if a team called ",(0,r.jsx)(i.strong,{children:"customer profile team"})," owns the end to\r\nend aspect the feature to add favorite genre is much localized change within\r\nthat team\r\n",(0,r.jsx)(i.img,{alt:"Vertical layer team",src:n(9024).A+"",width:"1203",height:"639"})]}),"\n"]})]})}function d(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},4700:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/threeLayerArchitecture-2371027be4a25d396bc432d53aa3364b.PNG"},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>a});var s=n(6540);const r={},t=s.createContext(r);function o(e){const i=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:i},e.children)}},9024:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/verticalTeamLayer-06f1695cfb7f872b5b609f326c075b76.PNG"},9949:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/threeLayerArchitectureChanges-959b5454789f76af96118c7f7aa6a1a5.PNG"}}]);